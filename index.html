<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>

    </style>
</head>
<body>
    <table cellspacing="5" cellpadding="5" border="1" align="center">
        <tr>
            <td colspan="3" align="center">SGPA calculator</td>
        </tr>
        <tr>
            <td>Subjects</td>
            <td>Credits</td>
            <td align="center">Marks</td>
        </tr>
        <tr>
            <td>Mathematics</td>
            <td><select id="credit_1">
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4" selected>4</option>
                <option value="5">5</option>
            </select></td>
            <td><input type="number" id="marks_1"></td>
        </tr>
        </td>
        <tr>
            <td>Physics</td>
            <td><select id="credit_2">
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4" selected>4</option>
                <option value="5">5</option>
            </select></td>
            <td><input type="number" id="marks_2"></td>
        </tr>
        </td>
        <tr>
            <td>POP</td>
            <td><select id="credit_3">
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3" selected>3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select></td>
            <td><input type="number" id="marks_3"></td>
        </tr>
        </td>
        <tr>
            <td>PLC</td>
            <td><select id="credit_4">
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3" selected>3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select></td>
            <td><input type="number" id="marks_4"></td>
        </tr>
        </td>
        
        <tr>
            <td>ESC-2</td>
            <td><select id="credit_5">
                <option value="0">0</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3" selected>3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select></td>
            <td><input type="number" id="marks_5"></td>
        </tr>
        </td>
        <tr>
            <td>English</td>
            <td><select id="credit_6">
                <option value="0">0</option>
                <option value="1" selected>1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select></td>
            <td><input type="number" id="marks_6"></td>
        </tr>
        </td>
        <tr>
            <td>IDT</td>
            <td><select id="credit_7">
                <option value="0">0</option>
                <option value="1" selected>1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select></td>
            <td><input type="number" id="marks_7"></td>
        </tr>
        </td>
        <tr>
            <td>Kannada</td>
            <td><select id="credit_8">
                <option value="0">0</option>
                <option value="1" selected>1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select></td>
            <td><input type="number" id="marks_8"></td>
        </tr>
        </td>
        <tr>
            <td colspan="3" align="center">
                <input type="button" value="reset" onclick="reset()">
                <input type="button" value="calculate" onclick="calculate()">
            </td>
        </tr>
    </table>
    <p id="result" align="center">Follow my instagram @kishan_6145</p>


    <script>
        numberOfSubjects = 8;
        function reset(){
            document.getElementById("credit_1").value = "4";
            document.getElementById("credit_2").value = "4";
            document.getElementById("credit_3").value = "3";
            document.getElementById("credit_4").value = "3";
            document.getElementById("credit_5").value = "3";
            document.getElementById("credit_6").value = "1";
            document.getElementById("credit_7").value = "1";
            document.getElementById("credit_8").value = "1";

            for(let i=1;i<=numberOfSubjects;i++){
                document.getElementById("marks_" + i).value = null;
            }
        }

        function marks_reduce(marks){
            if(marks>=90){
                return 10;
            }
            else if(marks>=80){
                return 9;
            }
            else if(marks>=70){
                return 8;
            }
            else if(marks>=60){
                return 7;
            }
            else if(marks>=55){
                return 6;
            }
            else if(marks>=50){
                return 5;
            }
            else if(marks>=40){
                return 4;
            }
            else if(marks>=0){
                return 0;
            }
            else{
                return 10;
            }
        }

        function calculate(){
            let marks = [];
            let credits = [];
            for(let i=1; i<=numberOfSubjects; i++){
                marks[i-1] = parseInt(marks_reduce(document.getElementById("marks_" + i).value));
            }

            total_credit = 0;
            for(let i=1; i<=numberOfSubjects; i++){
                total_credit += parseInt(document.getElementById("credit_" + i).value);
                credits[i-1] = parseInt(document.getElementById("credit_" + i).value);
            }
            
            
            numerator = 0;
            for(let i=1; i<=numberOfSubjects; i++){
                numerator += credits[i-1]*marks[i-1];
            }

            console.log("total credit " + total_credit);
            console.log("credits array " + credits)
            console.log("marks array " + marks);

            let SGPA = numerator/total_credit;
            console.log("SGPA = " + SGPA)
            document.getElementById("result").innerHTML = "Your SGPA is " + SGPA + "."
        }
    </script>
</body>
</html>